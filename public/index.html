<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tank Fight</title>
    <link rel="stylesheet" href="./style.css"/>
</head>
<body>

    <div class="blur-screen"></div>

    <div class="initial-container container">
        <div class="logo-container">
            <img src="./images/logo.png"/>
        </div>
        <div class="actions-container">
            <input type="text" placeholder="Nome de jogador" minlength="1"/> 
            <div class="btns-container">
                <button class="btn btn-play" onclick="play()">
                    Jogar 
                </button>
                <button class="btn btn-spectate">Assistir</button>
            </div>
        </div>

        <div class="error-msg"></div>
    </div>

    <div class="disconnected-container container">
        <div class="logo-container">
            <img src="./images/disconnected.png"/>
        </div>

        <div class="actions-container">
            <div class="btns-container">
                <button class="btn btn-play" style="width: 100%;" onclick="window.location.reload()">Reconectar</button>
            </div>
        </div>
    </div>
    
    <div class="dead-container container">
        <div class="logo-container">
            <img src="./images/dead-screen.png"/>
        </div>

        <div class="actions-container">
            <div class="btns-container">
                <button class="btn btn-play" style="width: 100%;" onclick="gameArea.editCurrentScreen('initial-container')">Continuar</button>
            </div>
        </div>
    </div>
    
    <div class="game-container">
        <canvas width="1500px" height="800px"></canvas>
    </div>

    <div id="ranking">
        <h2>Ranking</h2>
        <div id="ranking-container">
            
            
        </div>
    </div>

    <div id="joyDiv" style="width:200px;height:200px;margin-bottom:20px;"></div>



    <script src="joy.js"></script>
    <script src="https://kit.fontawesome.com/c9a35cf9ec.js" crossorigin="anonymous"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="./game.js"></script>
    <script src="./moviments.js"></script>
    <script src="./script.js"></script>
    <script src="./drawStructure.js"></script>
    

    <script type="text/javascript">
        // Create JoyStick object into the DIV 'joyDiv'
        var joy = new JoyStick('joyDiv', {width: 150, height: 150});

        var teste = 0
        setInterval(() => {
            JoyStickPos = joy.GetDir() 
            var posPressed = []

            if (JoyStickPos === 'W')
                posPressed.push('ArrowLeft')
            else if (JoyStickPos === 'E')
                posPressed.push('ArrowRight')
            else if (JoyStickPos === 'S')
                posPressed.push('ArrowDown')
            else if (JoyStickPos === 'N')
                posPressed.push('ArrowUp')

            else if (JoyStickPos === 'NW')
                posPressed.push('ArrowUp', 'ArrowLeft')
            else if (JoyStickPos === 'NE')
                posPressed.push('ArrowUp', 'ArrowRight')
            
            else if (JoyStickPos === 'SW')
                posPressed.push('ArrowDown', 'ArrowLeft')
            else if (JoyStickPos === 'SE')
                posPressed.push('ArrowDown', 'ArrowRight')

            gameArea.keys = posPressed

            /*
                C = Null
                W = left
                S = Bottom
                N = Top
                E = Right

                NW = Top and Left
                NE = Top and Right
                SW = Bottom and Left
                SE = Bottom and Right

            */
        }, 20)


    </script>
</body>
</html>